<ion-content class="contact-content" [fullscreen]="true">
  
  <section class="contact-section">
    <div class="section-shell">
      
      <!-- Page header -->
      <header class="section-header">
        <p class="header-label">Contact &amp; Book a Viewing</p>
        
        <h1>Tell us what you're looking for</h1>
        
        <p class="header-description">
          Fill in the form below and we'll get back to you to confirm a
          viewing time or answer any questions you may have.
        </p>
      </header>

      <!-- Two column layout - info card + form -->
      <div class="contact-layout">
        
        <!-- Info card explaining the process -->
        <div class="info-card">
          <h2>How it works</h2>
          
          <p class="info-text">
            We'll use your details only to contact you about this enquiry. 
            You can mention a specific property, preferred area, or budget 
            in the message field.
          </p>

          <ul class="info-list">
            <li>Viewings confirmed within 1â€“2 working days</li>
            <li>Properties across Dublin city and suburbs</li>
            <li>Fully powered by Firebase &amp; Ionic</li>
          </ul>
        </div>

        <!-- Booking form -->
        <div class="form-card">
          
          <form (ngSubmit)="submitForm(f)" #f="ngForm">
            
            <!-- Name field -->
            <ion-item lines="none" class="form-item">
              <ion-label position="stacked">Full name *</ion-label>
              <ion-input
                type="text"
                name="name"
                placeholder="Enter your full name"
                required
                [(ngModel)]="viewing.name"
              ></ion-input>
            </ion-item>

            <!-- Email field -->
            <ion-item lines="none" class="form-item">
              <ion-label position="stacked">Email address *</ion-label>
              <ion-input
                type="email"
                name="email"
                placeholder="your.email@example.com"
                required
                [(ngModel)]="viewing.email"
              ></ion-input>
            </ion-item>

            <!-- Date field -->
            <ion-item lines="none" class="form-item">
              <ion-label position="stacked">Preferred date *</ion-label>
              <ion-input
                type="date"
                name="date"
                required
                [(ngModel)]="viewing.date"
              ></ion-input>
            </ion-item>

            <!-- Time field -->
            <ion-item lines="none" class="form-item">
              <ion-label position="stacked">Preferred time *</ion-label>
              <ion-input
                type="time"
                name="time"
                required
                [(ngModel)]="viewing.time"
              ></ion-input>
            </ion-item>

            <!-- Property interest -->
            <ion-item lines="none" class="form-item">
              <ion-label position="stacked">Property interest (optional)</ion-label>
              <ion-input
                type="text"
                name="property"
                placeholder="e.g. Modern Apartment in Dublin City"
                [(ngModel)]="viewing.property"
              ></ion-input>
            </ion-item>

            <!-- Additional notes -->
            <ion-item lines="none" class="form-item">
              <ion-label position="stacked">Additional notes (optional)</ion-label>
              <ion-textarea
                name="notes"
                rows="4"
                placeholder="Any special requests or questions..."
                [(ngModel)]="viewing.notes"
              ></ion-textarea>
            </ion-item>

            <!-- Submit button -->
            <div class="form-footer">
              <ion-button
                expand="block"
                type="submit"
                [disabled]="submitting || f.invalid"
                class="submit-btn"
              >
                {{ submitting ? 'Sending...' : 'Send request' }}
              </ion-button>

              <p class="helper-text">
                We'll send a confirmation email as soon as possible.
              </p>
            </div>

            <!-- Success message -->
            <ion-note *ngIf="success" color="success" class="success-note">
              <ion-icon name="checkmark-circle-outline"></ion-icon>
              Your request was sent successfully! We'll be in touch soon.
            </ion-note>

            <!-- Error message -->
            <ion-note *ngIf="error" color="danger" class="error-note">
              <ion-icon name="alert-circle-outline"></ion-icon>
              {{ error }}
            </ion-note>
            
          </form>
        </div>
        
      </div>
    </div>
  </section>
  
</ion-content>